
{% load static %}

{% block title %}Admin Dashboard{% endblock %}


<style>
/* Sidebar (reuse the modern sidebar style) */
#admin-sidebar {
    width: 250px;
    height: 100vh;
    position: fixed;
    top: 0;
    left: 0;
    background-color: #1e1e2f;
    color: #fff;
    display: flex;
    flex-direction: column;
    padding: 20px;
    box-shadow: 2px 0 8px rgba(0,0,0,0.2);
    font-family: 'Segoe UI', sans-serif;
}
.sidebar-logo {
    font-size: 1.6rem;
    font-weight: bold;
    text-align: center;
    margin-bottom: 30px;
    letter-spacing: 1px;
    color: #00d8ff;
}
.sidebar-section {
    margin-bottom: 25px;
}
.sidebar-section-title {
    font-size: 0.85rem;
    text-transform: uppercase;
    color: #a0a0b2;
    margin-bottom: 10px;
    padding-left: 5px;
}
.sidebar-link {
    display: block;
    color: #fff;
    padding: 10px 15px;
    margin-bottom: 5px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.2s ease-in-out;
}
.sidebar-link:hover {
    background-color: #00d8ff;
    color: #1e1e2f;
    transform: translateX(5px);
}
.mt-auto { margin-top: auto; }

/* Main content */
#admin-content {
    margin-left: 270px;
    padding: 30px;
}

/* Cards */
.admin-card {
    background-color: #0fe90f;
    color: #fff;
    border-radius: 12px;
    padding: 30px 20px;
    margin-bottom: 20px;
    text-align: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    transition: transform 0.2s ease;
}
.admin-card:hover {
    transform: translateY(-5px);
}
.admin-card h5 {
    font-weight: bold;
    font-size: 1.2rem;
    margin-bottom: 10px;
}
.admin-card p {
    font-size: 2rem;
    font-weight: bold;
    margin: 0;
}

/* Table */
.admin-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}
.admin-table th, .admin-table td {
    padding: 12px 15px;
    border-bottom: 1px solid #ddd;
    text-align: left;
}
.admin-table th {
    background-color: #4c4c58;
    color: #00d8ff;
}
.admin-table tr:hover {
    background-color: #9e9eaa;
}

/* Responsive */
@media (max-width: 768px) {
    #admin-sidebar {
        width: 100%;
        height: auto;
        position: relative;
    }
    #admin-content {
        margin-left: 0;
        margin-top: 20px;
    }
}

.action-btn {
    padding: 6px 12px;
    border-radius: 6px;
    text-decoration: none;
    font-size: 0.9rem;
    font-weight: 500;
    margin-right: 5px;
    display: inline-block;
}

.view-btn {
    background-color: #00d8ff;
    color: #1e1e2f;
}

.view-btn:hover {
    background-color: #00b8d4;
}

.delete-btn {
    background-color: #ff4d4d;
    color: white;
}

.delete-btn:hover {
    background-color: #e60000;
}

</style>

<!-- Sidebar -->
<div id="admin-sidebar">
    <h3 class="sidebar-logo">Admin Panel</h3>

    <div class="sidebar-section">
        <a href="#" class="sidebar-link">üè† Dashboard</a>
    </div>

    <div class="sidebar-section">
        <h5 class="sidebar-section-title">Students</h5>
        <a href="{% url 'student_info' %}" class="sidebar-link">All Students</a>
        <a href="{% url 'register_student' %}" class="sidebar-link">Add Student</a>
    </div>

    <div class="sidebar-section">
        <h5 class="sidebar-section-title">Courses</h5>
        <a href="{% url 'view_courses' %}" class="sidebar-link">All Courses</a>
        <a href="{% url 'add_course' %}" class="sidebar-link">Add Course</a>
    </div>

    <div class="sidebar-section mt-auto">
        <h5 class="sidebar-section-title">Settings</h5>
        <a href="#" class="sidebar-link">Profile</a>
        <a href="{% url 'logout' %}" class="sidebar-link">Logout</a>
    </div>
</div>

<!-- Main Content -->
<div id="admin-content">
    <h2>Welcome {{user.username}}, Admin</h2>

    <!-- Stats Cards -->
    <div style="display:flex; flex-wrap:wrap; gap:20px; margin-top:20px;">
        <div class="admin-card" style="flex:1;">
            <h5>Total Students</h5>
            <p>{{students }}</p>
        </div>
        <div class="admin-card" style="flex:1;">
            <h5>Total Courses</h5>
            <p>{{ courses_offered }}</p>
        </div>
        <div class="admin-card" style="flex:1;">
            <h5>Lecturers</h5>
            <p>{{ lecturers }}</p>
        </div>
    </div>

    <!-- Recent Students Table -->
    <h3 style="margin-top:40px; margin-bottom:15px;">Recent Students</h3>
    <table class="admin-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Action</th>
            
            </tr>
        </thead>
        <tbody>
            {% for student in latest_students %}
            <tr>
                <td>{{ student.id }}</td>
                <td>{{ student.first_name }}</td>
                <td>{{ student.email }}</td>
                 <td>
            <a href="#" class="action-btn view-btn">View</a>
            <a href="{% url 'delete_student' student.id %}" 
               class="action-btn delete-btn"
               onclick="return confirm('Are you sure you want to delete this student?');">
               Delete
            </a>
        </td>
                
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

